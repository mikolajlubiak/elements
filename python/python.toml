type = "pod"

run-cmd = ["python", "manage.py", "runserver", "0.0.0.0:8000"]
run-writable-file-system = true

[build]
type = "dockerfile"
dockerfile-path = '/python/.timoni-docker-file'


[variables]
PYTHONDONTWRITEBYTECODE = "1"
PYTHONUNBUFFERED = "1"
POSTGRES_NAME = "{{postgresql.POSTGRES_DB}}"
POSTGRES_USER = "{{postgresql.POSTGRES_USER}}"
POSTGRES_PASSWORD.type = "secret"
POSTGRES_PASSWORD.value = "{{postgresql.POSTGRES_PASSWORD}}"

[expose.8000]
type = 'http'